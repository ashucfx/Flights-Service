# Flight Service

This project is a Flight Service API built using Node.js. It is designed to handle flights, managing airports, cities,airplanes, seats and their related functionalities. This API is structured using best coding practices and project management recommendations.

## Overview

The Flight Service API provides a robust interface for managing flight-related operations. It is capable of integrating with other services such as payment gateways for processing transactions, weather services for real-time weather updates, and customer relationship management (CRM) systems to enhance customer service.

## Project Structure

- `src/` - Contains all the source code for the project.
- `config/` - Configuration files and setup for libraries and modules, such as `dotenv` for environment variables and logging configurations.
- `routes/` - Definitions of API routes along with their corresponding middleware and controllers.
- `middlewares/` - Middleware functions for request interception, such as validators and authenticators.
- `controllers/` - Controllers handle incoming requests, pass data to the business layer, and structure API responses.
- `repositories/` - Contains database interaction logic, including raw and ORM-based queries.
- `services/` - Business logic layer that interacts with repositories to fetch and manipulate data.
- `utils/` - Helper methods and custom error classes.

### Additional Directories
- `migrations/` - Database migration files generated by Sequelize.
- `seeders/` - Database seeder files to populate the database with initial data.

## Environment Configuration

This service requires environment variables to be configured. Copy `.env.example` to `.env` and update the values:

```bash
cp .env.example .env
```

### Required Environment Variables

- `PORT` - Server port (default: 3000)
- `DB_HOST` - Database host address
- `DB_PORT` - Database port (default: 3306)
- `DB_USER` - Database username
- `DB_PASSWORD` - Database password
- `DB_NAME` - Database name (Flights)
- `DB_DIALECT` - Database dialect (mysql)
- `NODE_ENV` - Environment (development/production)
- `LOG_LEVEL` - Logging level (info/debug/error)
- `CORS_ORIGIN` - Allowed CORS origins (default: *)

### Health Check

The service provides a health check endpoint at `/health` for monitoring and orchestration purposes.

## Integration Capabilities

### Payment Gateway Integration
- **Purpose**: To process payments for flight bookings securely.
- **How it works**: The API sends transaction details to the payment gateway and receives a confirmation response.

### Weather Service Integration
- **Purpose**: To provide passengers with real-time weather updates for their destinations.
- **How it works**: The API fetches weather data from external weather APIs and integrates this information into the flight status updates.

### CRM Integration
- **Purpose**: To manage customer interactions and enhance customer service.
- **How it works**: The API synchronizes customer data with the CRM system, enabling personalized communication and efficient service.

## Usage

Once the server is running, you can use any HTTP client to interact with the API. The base URL is `http://localhost:<PORT>/api`.